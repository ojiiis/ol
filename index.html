<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>oLoader: Dynamic Content Assembler</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; line-height: 1.6; max-width: 900px; margin: 0 auto; padding: 20px; }
        h1 { border-bottom: 2px solid #eee; padding-bottom: 10px; color: #333; }
        h2 { color: #007bff; margin-top: 30px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
        h3 { color: #555; margin-top: 20px; }
        code { background-color: #f4f4f4; padding: 2px 4px; border-radius: 4px; font-family: monospace; }
        pre { background-color: #f4f4f4; padding: 15px; border-radius: 8px; overflow-x: auto; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
        th { background-color: #f8f8f8; }
        .feature-list li { margin-bottom: 8px; }
        hr { border: 0; border-top: 1px solid #ccc; margin: 20px 0; }
    </style>
</head>
<body>

    <h1>🟢 oLoader: Dynamic Content Assembler</h1>

    <p><strong>oLoader</strong> is a lightweight, zero-dependency JavaScript module designed to manage client-side content assembly, dependency ordering, and data hydration in a static, runtime environment. It delivers <strong>modern application structure without modern application overhead</strong>. It’s perfect for adding dynamic, component-based power to simple HTML files without needing a complex build step.</p>

    <hr>

    <h2>💡 Features</h2>
    <ul class="feature-list">
        <li><strong>Runtime Assembly:</strong> Asynchronously fetches and inserts HTML, CSS, and Scripts into the <code>&lt;head&gt;</code> or <code>&lt;body&gt;</code>.</li>
        <li><strong>Guaranteed Script Order:</strong> Scripts are executed sequentially, ensuring dependencies load correctly.</li>
        <li><strong>Dynamic UI Management:</strong> The <strong><code>element.put()</code></strong> method enables <strong>view swapping</strong> and seamless content replacement <em>after</em> initial assembly.</li>
        <li><strong>Imperative Form Handling:</strong> The <strong><code>element.ifsubmit()</code></strong> method simplifies form submission by preventing default behavior and parsing data into a clean object.</li>
        <li><strong>Clean Element Selection:</strong> The global <strong><code>oG()</code></strong> utility simplifies DOM querying, making code cleaner and immediately readable.</li>
        <li><strong>Global Data Hydration:</strong> The integrated <code>window.paint</code> utility provides fast, attribute-based templating.</li>
        <li><strong>Simple Lifecycle:</strong> Uses a single <code>.load(callback)</code> method for clean initialization and cleanup.</li>
    </ul>

    <hr>

    <h2>🚀 Getting Started</h2>

    <h3>1. Installation</h3>
    <p>Download the latest <code>oloader.js</code> and include it, followed by your application logic, in your main HTML file. <strong>oLoader</strong> is ready immediately on page load.</p>

    <pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;oLoader Application&lt;/title&gt;
    &lt;!-- Include the oLoader core module first --&gt;
    &lt;script src="path/to/oloader.js"&gt;&lt;/script&gt;
    
    &lt;!-- Include your main application logic --&gt;
    &lt;script src="path/to/app.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="app-container"&gt;
        &lt;!-- Initial content or loading screen here --&gt;
        &lt;p&gt;Loading application structure...&lt;/p&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

    <h3>2. Basic Usage and The <code>oG()</code> Selector</h3>
    <p>Use the <code>oLoader()</code> constructor to create an assembly instance, queue your files, and call <code>.load()</code> to execute the process. Use the <strong><code>oG()</code></strong> utility to simplify element selection and immediately apply logic.</p>

    <pre><code>// app.js

// 1. Initialize the assembly core
const app = oLoader();

// 2. Queue content and dependencies
app.head('/assets/styles.css', 'e');          // Load styles
app.body('/components/main-view.html', 'e');  // Load component structure
app.script('/app/router.js');                 // Load logic

// 3. Execute assembly and run final initialization
app.load(() => {
    console.log('Application structure assembled and ready!');
    
    // ⭐ Use oG() to easily select elements and apply logic ⭐
    
    // Example 1: Attach an ifsubmit handler to the login form
    oG('#login-form', (form) => {
        // 'form' is the HTMLElement object
        form.ifsubmit(({ data }) => {
            console.log('Login attempt:', data);
        });
    });

    // Example 2: Load a dynamic component into a specific container
    oG('#dashboard-container').put('/views/user-welcome.html', null, () => {
        console.log('Welcome message loaded!');
    });
});</code></pre>

    <hr>

    <h2>🎨 Data Hydration (<code>window.paint</code>)</h2>

    <p>The global <code>paint</code> utility is used to inject data into loaded HTML templates. It searches for elements marked with the <strong><code>.use-painter</code></strong> class and the <strong><code>painter-data</code></strong> attribute.</p>

    <h3>Templating</h3>
    <p><code>paint</code> automatically targets attributes like <code>src</code> (for <code>&lt;img&gt;</code>) and <code>href</code> (for <code>&lt;a&gt;</code>). Otherwise, it updates <code>textContent</code>.</p>

    <pre><code>&lt;div class="card"&gt;
    &lt;h3 class="use-painter" painter-data="userName"&gt;&lt;/h3&gt;
    
    &lt;img class="use-painter" painter-data="avatarURL" src="" alt="Avatar"&gt;
    
    &lt;a class="use-painter" painter-data="profileID" href="/user/"&gt;View&lt;/a&gt;
&lt;/div&gt;</code></pre>

    <h3>Hydrating the Data</h3>
    <p>You typically call <code>paint.obj()</code> inside the <code>.load()</code> callback once data is available.</p>

    <pre><code>// 1. Start fetching data concurrently
const userData = fetch('/api/user/current').then(res => res.json());

app.load(() => {
    userData.then(data => {
        // Hydrate the structure with data
        paint.obj({
            userName: data.name,
            avatarURL: data.image_url,
            profileID: data.id // The &lt;a&gt; href becomes /user/123
        });
    });
});</code></pre>

    <hr>

    <h2>📚 Core API Reference</h2>

    <p>The API is divided into methods for initial assembly and methods available on all elements for dynamic runtime interactions.</p>

    <h3>Initial Assembly Methods (The <code>app</code> Instance)</h3>
    <table>
        <thead>
            <tr>
                <th>Method</th>
                <th>Arguments</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong><code>oLoader()</code></strong></td>
                <td><em>None</em></td>
                <td>Initializes and returns the assembly instance (<code>app</code>).</td>
            </tr>
            <tr>
                <td><strong><code>app.head(file, pos)</code></strong></td>
                <td><code>string</code>, <code>string</code> ('b' or 'e')</td>
                <td>Queues content for insertion into <code>&lt;head&gt;</code>.</td>
            </tr>
            <tr>
                <td><strong><code>app.body(file, pos)</code></strong></td>
                <td><code>string</code>, <code>string</code> ('b' or 'e')</td>
                <td>Queues content for insertion into <code>&lt;body&gt;</code>.</td>
            </tr>
            <tr>
                <td><strong><code>app.script(file)</code></strong></td>
                <td><code>string</code></td>
                <td>Queues a JS file for <strong>sequential execution</strong>.</td>
            </tr>
            <tr>
                <td><strong><code>app.load(callback)</code></strong></td>
                <td><code>function</code></td>
                <td>Triggers fetching and runs the <code>callback</code> when <strong>all</strong> assets are ready.</td>
            </tr>
        </tbody>
    </table>

    <hr>

    <h3>Dynamic Element Methods (Available <strong>After</strong> <code>app.load()</code>)</h3>
    <p>These methods are available on <strong>any HTML Element</strong> for managing runtime content updates and user interactions.</p>

    <h4>1. Dynamic Content: <code>element.put(file, [position], [callback])</code></h4>
    <p>Asynchronously fetches content and inserts it into the target element. Returns a <code>Promise</code> and accepts an optional callback.</p>
    <table>
        <thead>
            <tr>
                <th>Position Value</th>
                <th>Action</th>
                <th>Clears Existing Content?</th>
                <th>Use Case</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>(Omitted or <code>null</code>)</strong></td>
                <td>Replaces the element's <strong>entire content</strong>.</td>
                <td><strong>YES</strong></td>
                <td><strong>Seamless State Transition</strong> (e.g., replacing a loading spinner).</td>
            </tr>
            <tr>
                <td><strong><code>e</code></strong> (End/Clear)</td>
                <td>Appends content to the end.</td>
                <td><strong>YES</strong></td>
                <td><strong>View Swapping</strong> (replacing the old view with a new one).</td>
            </tr>
            <tr>
                <td><strong><code>E</code></strong> (End/No Clear)</td>
                <td>Appends content to the end.</td>
                <td>No</td>
                <td><strong>Infinite Scroll/Pagination</strong> (adding more items).</td>
            </tr>
            <tr>
                <td><strong><code>B</code></strong> (Begin/No Clear)</td>
                <td>Prepends content to the beginning.</td>
                <td>No</td>
                <td>Inserting a new item at the top (e.g., new chat message).</td>
            </tr>
        </tbody>
    </table>

    <h4>2. Form Handling: <code>element.ifsubmit(callback)</code></h4>
    <p>Attaches a submit handler to the element (intended for a <code>&lt;form&gt;</code>). It <strong>prevents the default browser submission</strong> and collects all form data into a structured object for easy processing.</p>
    <table>
        <thead>
            <tr>
                <th>Callback Argument Key</th>
                <th>Type</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong><code>caller</code></strong></td>
                <td><code>HTMLElement</code></td>
                <td>The element (button) that initiated the submission.</td>
            </tr>
            <tr>
                <td><strong><code>form</code></strong></td>
                <td><code>HTMLElement</code></td>
                <td>The form element itself.</td>
            </tr>
            <tr>
                <td><strong><code>location</code></strong></td>
                <td><code>string</code></td>
                <td>The value of the form's <code>action</code> attribute.</td>
            </tr>
            <tr>
                <td><strong><code>data</code></strong></td>
                <td><code>Object</code></td>
                <td>Key-value pairs of all form fields (e.g., <code>{ inputName: value }</code>).</td>
            </tr>
        </tbody>
    </table>

    <hr>

    <h3>Global Utilities</h3>
    <table>
        <thead>
            <tr>
                <th>Method</th>
                <th>Arguments</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong><code>oG(selector, [callback])</code></strong></td>
                <td><code>string</code>, <code>function</code></td>
                <td><strong>The Element Selector.</strong> Retrieves element(s) based on a CSS selector. Returns a single <code>HTMLElement</code> for IDs or an <code>Array</code> for classes/tags. If a <code>callback</code> is provided, it executes the callback immediately on the element(s).</td>
            </tr>
            <tr>
                <td><strong><code>paint.obj(data, [element])</code></strong></td>
                <td><code>Object</code>, <code>HTMLElement</code></td>
                <td>Hydrates the DOM using a single object. If <code>element</code> is provided, it scopes the search for <code>.use-painter</code> to that element.</td>
            </tr>
            <tr>
                <td><strong><code>paint.array(container, array)</code></strong></td>
                <td><code>HTMLElement</code>, <code>Array</code></td>
                <td>Renders a list by cloning the container's first child for each item in the array.</td>
            </tr>
        </tbody>
    </table>

    <hr>

    <h2>🤝 Contributing</h2>
    <p>We welcome contributions! Please read our <a href="https://www.google.com/search?q=CONTRIBUTING.md">CONTRIBUTING.md</a> for guidelines on submitting pull requests, reporting bugs, and suggesting features.</p>

    <hr>

    <h2>📜 License</h2>
    <p>oLoader is <a href="https://www.google.com/search?q=LICENSE">Licensed under the MIT License</a>.</p>

</body>
</html>